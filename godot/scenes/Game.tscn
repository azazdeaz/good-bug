[gd_scene load_steps=12 format=2]

[ext_resource path="res://native/Game.gdns" type="Script" id=1]
[ext_resource path="res://scenes/Ground.tres" type="Material" id=2]
[ext_resource path="res://scenes/StaticBody.gd" type="Script" id=3]
[ext_resource path="res://scenes/EnableRaw.gd" type="Script" id=4]
[ext_resource path="res://scenes/SaveImage.gd" type="Script" id=5]
[ext_resource path="res://scenes/CameraImage.gd" type="Script" id=6]
[ext_resource path="res://addons/goutte.camera.trackball/trackball_camera.gd" type="Script" id=7]
[ext_resource path="res://scenes/ViewportContainer.gd" type="Script" id=8]

[sub_resource type="NoiseTexture" id=1]
width = 640
height = 480

[sub_resource type="PlaneMesh" id=2]

[sub_resource type="BoxShape" id=3]

[node name="Game" type="Node"]
script = ExtResource( 1 )

[node name="GUI" type="HSplitContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 1
split_offset = 240
__meta__ = {
"_edit_use_anchors_": false
}

[node name="VBox" type="VBoxContainer" parent="GUI"]
margin_right = 422.0
margin_bottom = 960.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="EnableRaw" type="CheckButton" parent="GUI/VBox"]
margin_right = 422.0
margin_bottom = 40.0
text = "show raw image"
script = ExtResource( 4 )

[node name="CameraImage" type="TextureRect" parent="GUI/VBox"]
margin_top = 44.0
margin_right = 422.0
margin_bottom = 932.0
size_flags_horizontal = 3
size_flags_vertical = 3
texture = SubResource( 1 )
expand = true
stretch_mode = 5
script = ExtResource( 6 )

[node name="SaveImage" type="HBoxContainer" parent="GUI/VBox"]
margin_top = 936.0
margin_right = 422.0
margin_bottom = 960.0
script = ExtResource( 5 )

[node name="SaveImageFolder" type="LineEdit" parent="GUI/VBox/SaveImage"]
margin_right = 333.0
margin_bottom = 24.0
size_flags_horizontal = 3
text = "saved_images"

[node name="SaveImageBtn" type="Button" parent="GUI/VBox/SaveImage"]
margin_left = 337.0
margin_right = 422.0
margin_bottom = 24.0
text = "Save Image"

[node name="ViewportContainer" type="ViewportContainer" parent="GUI"]
margin_left = 434.0
margin_right = 1280.0
margin_bottom = 960.0
stretch = true
script = ExtResource( 8 )

[node name="Viewport" type="Viewport" parent="GUI/ViewportContainer"]
size = Vector2( 846, 960 )
size_override_stretch = true
physics_object_picking = true

[node name="Spatial" type="Spatial" parent="GUI/ViewportContainer/Viewport"]

[node name="Ground" type="CSGMesh" parent="GUI/ViewportContainer/Viewport/Spatial"]
transform = Transform( 300, 0, 0, 0, 1, 0, 0, 0, 300, 0, -0.291, 0 )
mesh = SubResource( 2 )
material = ExtResource( 2 )

[node name="StaticBody" type="StaticBody" parent="GUI/ViewportContainer/Viewport/Spatial/Ground"]
transform = Transform( 0.00333333, 0, 0, 0, 0.01, 0, 0, 0, 0.00333333, 0, 0, 0 )
script = ExtResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="GUI/ViewportContainer/Viewport/Spatial/Ground/StaticBody"]
transform = Transform( 300, 0, 0, 0, 1, 0, 0, 0, 300, 0, 0, 0 )
shape = SubResource( 3 )

[node name="CamTarget" type="Spatial" parent="GUI/ViewportContainer/Viewport/Spatial"]

[node name="TrackballCamera" type="Camera" parent="GUI/ViewportContainer/Viewport/Spatial/CamTarget"]
transform = Transform( 1, 0, 0, 0, 0.900448, 0.434964, 0, -0.434964, 0.900448, 0, 7.09434, 13.972 )
script = ExtResource( 7 )
stabilize_horizon = true
joystick_enabled = false

[node name="NextTarget" type="Spatial" parent="GUI/ViewportContainer/Viewport/Spatial"]
visible = false

[node name="Flag" type="CSGCylinder" parent="GUI/ViewportContainer/Viewport/Spatial/NextTarget"]
transform = Transform( 1, 0, 0, 0, -1, 0, 0, 0, 1, 0, 2, 0 )
radius = 0.3
height = 0.2
sides = 23
cone = true

[node name="Pole" type="CSGCylinder" parent="GUI/ViewportContainer/Viewport/Spatial/NextTarget"]
radius = 0.04
height = 4.0

[connection signal="toggled" from="GUI/VBox/EnableRaw" to="GUI/VBox/EnableRaw" method="_on_EnableRaw_toggled"]
[connection signal="item_rect_changed" from="GUI/VBox/CameraImage" to="GUI/VBox/CameraImage" method="_on_CameraImage_item_rect_changed"]
[connection signal="pressed" from="GUI/VBox/SaveImage/SaveImageBtn" to="GUI/VBox/SaveImage" method="_on_SaveImageBtn_pressed"]
[connection signal="input_event" from="GUI/ViewportContainer/Viewport/Spatial/Ground/StaticBody" to="GUI/ViewportContainer/Viewport/Spatial/Ground/StaticBody" method="_on_StaticBody_input_event"]
